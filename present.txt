Часть 1 Требования

Задача: Собрать стабильную инфраструктуру для ведения совместной документации с помощью Media Wiki

План проекта:
1) Создать и сконфигурировать 7 виртуальных машин для выполнения поставленной задачи
    Список вирутальных машин:
    --------------------------------------------------------------------------------------------
    - Балансировщик (техническое название load_balancer)
        Задача: 
            1) Обеспечивает балансировку нагрузки между двумя web-приложениями
            2) В случае аварийной остановки одного из web-приложений закрывает к нему доступ
        ОС: Ubintu 24.04
        Утилиты:
            Nginx-1.24
            Zabbix-agentd-6.4.21(для работы мониторинга и снятия метрик с веб-приложения)
    --------------------------------------------------------------------------------------------
    - Веб-приложение MediaWiki (техническое название wiki_1)
        Задача:
            1) Предоставляет конечным пользователям возможность вести совместную документацию 
        ОС: Ubintu 24.04
        Утилиты:
            Nginx-1.24
            PHP-8.3
            Media Wiki-1.43.1
            Postgresql-16(нужен для обработки в аварийных ситуаций и доступа с аварийной консоли)
            SSH(для доступа в аварийных ситуациях)
            Zabbix-agentd-6.4.21(для работы мониторинга и снятия метрик с веб-приложения)
     --------------------------------------------------------------------------------------------
     - Веб-приложение MediaWiki (техническое название wiki_2)
        Задача:
            1) Предоставляет конечным пользователям возможность вести совместную документацию 
        ОС: Ubintu 24.04
        Утилиты:
            Nginx-1.24
            PHP-8.3
            Media Wiki-1.43.1
            Postgresql-16(нужен для обработки в аварийных ситуаций и доступа с аварийной консоли)
            SSH(для доступа в аварийных ситуациях)
            Zabbix-agentd-6.4.21(для работы мониторинга и снятия метрик с веб-приложения)
     --------------------------------------------------------------------------------------------
     - Основная база данных Postgresql (техническое название bd_primary)
        Задача:
            1) Позволяет веб-приложению webia wiki записывать технические данные   
            2) Работает как основной сервер Primary в который ведется запись
        ОС: Ubintu 24.04
        Утилиты:
            Postgresql-16
            Repmgr-5.41(обеспечивает работу репликации и переключения в аварийных ситуациях)
            SSH(для доступа в аварийных ситуациях и работы корректной repmgr)
            Zabbix-agent2-6.42.1(для работы мониторинга и снятия метрик с базы данных)
     --------------------------------------------------------------------------------------------
     - Резервная база данных Postgresql (техническое название bd_standby)
        Задача:
            1) Работает как резревый сервер Primary копируя с него запись
            2) В случае аварийной остановки основного сервера берет на себя роль основного
        ОС: Ubintu 24.04
        Утилиты:
            Postgresql-16
            Repmgr-5.41(обеспечивает работу репликации и переключения в аварийных ситуациях)
            SSH(для доступа в аварийных ситуациях и работы корректной repmgr)
            Zabbix-agent2-6.42.1(для работы мониторинга и снятия метрик с базы данных)
     --------------------------------------------------------------------------------------------
     - Резервная консоль + хранилище бекапов (техническое название backup_console)
        Задача:
            1) Хранит ежедненвные бекапы(время создания бекапов 3:30)
            2) Удаляет бекапы старше 7 дней
            3) Предоставляет доступ к виртуальным машинам(кроме балансировщика и zabbix)
            4) Необходим для устранения последствий авайрий
        ОС: Ubuntu 24.04
        Утилиты:
            Postgresql-16(от пользователя postgres осуществляется подключение по ssh) 
            Repmgr-5.41(обеспечивает работу репликации и переключения в аварийных ситуациях)
            SSH(для доступа в аварийных ситуациях)
            Zabbix-agentd-6.4.21(для работы мониторинга и снятия метрик с веб-приложения)
     - Сервер мониторинга Zabbix (техническое название zabbix)
        Задача: 
            1) Мониторинг работы инфраструктуры
        Утилиты:
            Zabbix_server-6.4.21
            Zabbix-agentd-6.4.21(для работы мониторинга и снятия метрик с zabbix)

3) Планируемая нагрузка 40 одновременных подлючений с возможностью расширения
4) Специфика приложения 
Осуществление постоянного доступа к приложению(или с минимальной просадкой)
Первостепенная задача сохранение данных пользователей даже в аварийной ситуации
5) Доступ к приложению осуществляется по протоколу http на 80 порту 
6) Вспомогательные сервисы 
Zabbix необходим для мониторинга и своевременной реакции системного администратора на аварию

            
